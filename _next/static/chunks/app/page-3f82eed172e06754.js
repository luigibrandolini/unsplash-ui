(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[931],{7168:function(e,t,a){Promise.resolve().then(a.bind(a,4917))},4917:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return j}});var s=a(7437),l=a(828),r=a(3646),n=a(687);let o={favorites:[]},i=(0,r.UY)({favorites:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:o,t=arguments.length>1?arguments[1]:void 0;return"addPictureToFavorites"===t.type?{pictures:null==e?void 0:e.favorites.push(t.payload)}:e}}),c=(0,r.jB)(i,{},(0,r.md)(n.I));var d=a(3103),u=a.n(d),g=a(2265),x=a(482),m=a.n(x),h=a(8078),p=a(703);function b(e){let{selectedImage:t,onClose:a,onNext:l,onPrev:r,addToFavorites:n,selectedIndex:o}=e;return t&&(0,s.jsx)("div",{className:"fixed inset-0 flex justify-center items-center z-50 bg-black bg-opacity-25",children:(0,s.jsx)("div",{className:"max-w-screen-lg mx-4",children:(0,s.jsxs)("div",{className:"bg-white px-4 pb-4",children:[(0,s.jsxs)("div",{className:"flex flex-row justify-between text-center items-center py-3",children:[(0,s.jsx)("div",{className:"relative",children:(0,s.jsx)("button",{onClick:n,children:(0,s.jsx)("svg",{className:"h-10 w-10",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512",children:(0,s.jsx)("path",{d:"M47.6 300.4L228.3 469.1c7.5 7 17.4 10.9 27.7 10.9s20.2-3.9 27.7-10.9L464.4 300.4c30.4-28.3 47.6-68 47.6-109.5v-5.8c0-69.9-50.5-129.5-119.4-141C347 36.5 300.6 51.4 268 84L256 96 244 84c-32.6-32.6-79-47.5-124.6-39.9C50.5 55.6 0 115.2 0 185.1v5.8c0 41.5 17.2 81.2 47.6 109.5z"})})})}),(0,s.jsx)("button",{className:" bg-gray-600 bg-opacity-50 py-1 px-2.5 hover:bg-gray-400 hover:bg-opacity-70 transition-all rounded-full text-xl text-white font-bold",onClick:a,children:"âœ•"})]}),(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsx)("button",{className:"absolute top-1/2 transform -translate-y-1/2 left-0 text-white py-6 px-4 md:py-24 md:px-4 text-2xl md:text-5xl",onClick:r,children:"<"}),(0,s.jsx)("button",{className:"absolute top-1/2 transform -translate-y-1/2 right-0 text-white py-6 px-4 md:py-24 md:px-4 text-3xl md:text-5xl",onClick:l,children:">"}),(0,s.jsx)("div",{className:"absolute bottom-4 left-0 right-0 flex justify-center",children:(0,s.jsx)("span",{className:"text-black text-opacity-80 text-lg font-bold",style:{color:"white"},children:t.description})}),(0,s.jsx)(p.default,{src:t.urls.regular,alt:"Selected Image",height:800,width:600})]})]})})})}let f=e=>{let{pictures:t}=e;console.log("[Gallery] Favorites:"+JSON.stringify((0,l.v9)(e=>null==e?void 0:e.favorites)));let[a,r]=(0,g.useState)(null),[n]=(0,g.useState)(0),[o,i]=(0,g.useState)(0);(0,l.I0)();let c=(e,t)=>{r(e),i(t)};return(0,s.jsx)(s.Fragment,{children:(0,s.jsxs)("div",{className:"-m-1 flex flex-wrap md:-m-2",children:[null==t?void 0:t.map((e,t)=>(0,s.jsx)("div",{className:"flex w-full sm:w-1/2 md:w-1/3 lg:w-1/4 p-1 md:p-2",children:(0,s.jsx)(p.default,{style:{cursor:"pointer"},className:"block mx-auto h-full object-cover object-center rounded-lg shadow-md",width:e.width,height:e.height,src:e.urls.regular,alt:e.alt_description,onClick:()=>c(e,t)})},t)),a&&(0,s.jsx)(b,{selectedImage:a,onNext:()=>{let e=o===t.length-1?0:o+1;r(t[e]),i(e)},onPrev:()=>{let e=0===o?t.length-1:o-1;r(t[e]),i(e)},selectedIndex:n,onClose:function(){r(null)},addToFavorites:()=>{}})]})})};function v(){let[e]=(0,g.useState)("rgba(37, 99, 235, 1)"),[t,a]=(0,g.useState)(""),[l,r]=(0,g.useState)(0),[n]=(0,g.useState)(10),[o,i]=(0,g.useState)(!1),[c,d]=(0,g.useState)({total:0,total_pages:0,results:[]}),x=async()=>{let e=t||p();a(e),console.log("[Home] Word to search for: ".concat(e));let s=await fetch("https://api.unsplash.com/search/photos/?query=".concat(e,"&page=").concat(l,"&client_id=KYj4qqwnERHg-kkOos3OkcnX9Q_Mz6jBI6JQJuSTXL0"));d(await s.json()),i(!1)};(0,g.useEffect)(()=>{0!=l&&x()},[l]);let p=()=>{var e=["Horse","Pig","Dog","Cat","Parrot","Iguana"];return e[Math.floor(Math.random()*e.length)]};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)("form",{className:"max-w-md mx-auto",onSubmit:e=>{i(!0),r(0),e.preventDefault(),x()},children:[(0,s.jsx)("label",{htmlFor:"default-search",className:"mb-2 text-sm font-medium text-gray-900 sr-only dark:text-white",children:"Search"}),(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsx)("div",{className:"absolute inset-y-0 start-0 flex items-center ps-3 pointer-events-none",children:(0,s.jsx)("svg",{className:"w-4 h-4 text-gray-500 dark:text-gray-400","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 20 20",children:(0,s.jsx)("path",{stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"m19 19-4-4m0-7A7 7 0 1 1 1 8a7 7 0 0 1 14 0Z"})})}),(0,s.jsx)("input",{type:"search",value:t,onChange:e=>a(e.target.value),id:"default-search",className:"block w-full p-4 ps-10 text-sm text-gray-900 border border-gray-300 rounded-lg bg-gray-50 focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500",placeholder:"Search photos.."}),(0,s.jsx)("button",{type:"submit",className:"text-white absolute end-2.5 bottom-2.5 bg-blue-700 hover:bg-blue-800 focus:ring-4 focus:outline-none focus:ring-blue-300 font-medium rounded-lg text-sm px-4 py-2 dark:bg-blue-600 dark:hover:bg-blue-700 dark:focus:ring-blue-800",children:"Search"})]})]}),(0,s.jsx)("br",{}),(0,s.jsx)("br",{}),(0,s.jsx)(s.Fragment,{children:o?(0,s.jsx)("div",{className:"flex justify-center items-center",children:(0,s.jsx)(h.Z,{color:e,loading:o,"aria-label":"Loader","data-testid":"loader"})}):(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(f,{pictures:c.results}),(0,s.jsx)("br",{}),(0,s.jsx)(m(),{activeClassName:u().pageItemActive,breakClassName:"pageItem break-me",breakLabel:"...",containerClassName:u().pagination,disabledClassName:"disabled-page",marginPagesDisplayed:2,nextLabel:">",onPageChange:e=>{console.log("[Home] Selected page: ".concat(e.selected)),r(e.selected+1)},pageRangeDisplayed:n,pageCount:c.total_pages,previousLabel:"<",renderOnZeroPageCount:null})]})})]})}function j(){return(0,s.jsx)(l.zt,{store:c,children:(0,s.jsx)(v,{})})}},3103:function(e){e.exports={pagination:"paginator_pagination__rOIpZ",pageLink:"paginator_pageLink__Ouw6M",pageItem:"paginator_pageItem__BlPya",pageItemActive:"paginator_pageItemActive__PCD2H"}}},function(e){e.O(0,[648,971,69,744],function(){return e(e.s=7168)}),_N_E=e.O()}]);